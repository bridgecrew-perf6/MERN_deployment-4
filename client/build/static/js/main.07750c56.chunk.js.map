{"version":3,"sources":["Components/updateRes.jsx","Components/allRes.jsx","Components/newRes.jsx","Components/resStars.jsx","Components/resReview.jsx","App.js","reportWebVitals.js","index.js"],"names":["UpdateRes","props","useState","name","setName","cuisine","setCuisine","yearOpened","setYearOpened","description","setDescription","errors","setErrors","useEffect","axios","get","_id","then","res","console","log","data","restaurant","catch","err","error","className","onSubmit","e","preventDefault","updatedRestaurant","put","restaurants","navigate","type","onChange","target","value","message","max","DisplayRes","setRestaurants","q","setQ","fetch","arr","i","length","j","ratingAverage","bubleSort","reviews","push","total","rating","av","toFixed","addAverageRating","placeholder","filter","r","toLowerCase","includes","map","rest","to","onClick","delete","students","AddRes","newRestaurant","post","Starts","Array","join","ReviewRes","setRestaurant","setRating","content","setContent","prototype","reverseRev","copy","this","reverse","revs","ratingAvrage","newReview","rev","moment","createdAt","fromNow","App","path","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.07750c56.chunk.js","sourcesContent":["import React, {useState,useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {navigate} from '@reach/router';\r\n\r\n\r\n\r\nconst UpdateRes = props => {\r\n    const [name,setName] = useState(\"\");\r\n    const [cuisine,setCuisine] = useState(\"\");\r\n    const [yearOpened,setYearOpened] = useState(2020);\r\n    const [description,setDescription] = useState(\"\");\r\n    const [errors,setErrors]= useState({});\r\n    // function fetch() {\r\n    //     axios.get(`http://localhost:8000/restaurants/${props._id}`)\r\n    //     .then(res => {\r\n    //         // console.log(res.data.restaurants);\r\n    //         setName(res.data.restaurant.name);\r\n    //         setCuisine(res.data.restaurant.cuisine);\r\n    //         setYearOpened(res.data.restaurant.yearOpened);\r\n    //         setDescription(res.data.restaurant.description);\r\n    //     })\r\n    //     .catch(err => console.error(err))\r\n    //     }\r\n    useEffect(()=> {\r\n        axios.get(`http://localhost:8000/restaurants/${props._id}`)\r\n        .then(res => {\r\n            console.log(\"theeeee id\",props._id);\r\n            setName(res.data.restaurant.name);\r\n            setCuisine(res.data.restaurant.cuisine);\r\n            setYearOpened(res.data.restaurant.yearOpened);\r\n            setDescription(res.data.restaurant.description);\r\n        })\r\n        .catch(err => console.error(err))\r\n    },[]);\r\n    const updateRestaurant = (e) => {\r\n        e.preventDefault();\r\n        const updatedRestaurant = {name,cuisine,yearOpened,description};\r\n        axios.put(`http://localhost:8000/restaurants/update/${props._id}` ,updatedRestaurant)\r\n        .then(res => {\r\n            console.log(res.data.restaurants);\r\n            if(res.data.errors){\r\n                setErrors(res.data.errors);\r\n            }\r\n            else {\r\n                navigate(\"/\");\r\n            }\r\n        })\r\n        .catch(err => console.error(err))\r\n        \r\n        }\r\n    return (\r\n    <div className=\"container\" >\r\n        <div className=\"row my-5\">\r\n            <div className=\"col-sm-8 offset-sm-2 \">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header bg-dark text-light\">Update A  Restaurant </div>\r\n                    <div className=\"card body\">\r\n                        <form onSubmit={updateRestaurant}>\r\n                            <div className=\"form-group\">\r\n                                <label>Name: </label>\r\n                                <input type=\"text\"  className=\"form-control\" onChange={e => setName(e.target.value)} value={name} />\r\n                                <p className=\"text-danger\">{ errors.name?errors.name.message:\"\"}</p>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Cuisine: </label>\r\n                                <input type=\"text\"  className=\"form-control\" onChange={e => setCuisine(e.target.value)} value={cuisine}/>\r\n                                <p className=\"text-danger\">{ errors.cuisine?errors.cuisine.message:\"\"}</p>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Year Established: </label>\r\n                                <input type=\"Number\"  className=\"form-control \" max=\"2020\" onChange={e => setYearOpened(e.target.value)} value={yearOpened}/>\r\n                                <p className=\"text-danger\">{ errors.yearOpened?errors.yearOpened.message:\"\"}</p>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Description: </label>\r\n                                <input type=\"text\"  className=\"form-control\" onChange={e => setDescription(e.target.value)} value={description}/>\r\n                                <p className=\"text-danger\">{ errors.description?errors.description.message:\"\"}</p>\r\n                            </div>\r\n                            <input type=\"submit\" value=\"Update A New Restaurant \" className=\"btn btn-primary\"/>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>              \r\n    </div>\r\n    );\r\n\r\n}\r\nexport default UpdateRes;\r\n\r\n\r\n","import React, {useState,useEffect} from 'react';\r\nimport axios from 'axios';\r\nimport {Link} from '@reach/router';\r\n\r\n\r\nconst DisplayRes = props => {\r\n\r\n    const [restaurants, setRestaurants]= useState([]);\r\n    const [q, setQ]= useState(\"\");\r\n    function  bubleSort(restaurants)  {\r\n        const arr=[...restaurants];\r\n        for(let i=0; i<arr.length;i++){\r\n            for(let j=0; j<arr.length-1;j++ ){\r\n                if(arr[j].ratingAverage < arr[j+1].ratingAverage ){\r\n                    [arr[j],arr[j+1]] = [arr[j+1],arr[j]];\r\n                }\r\n            }\r\n        }\r\n        return arr;\r\n    }\r\n    const addAverageRating = (restaurants) =>{\r\n        const arr=[];\r\n        for(let res of restaurants){\r\n            if(res.reviews.length < 1){\r\n                arr.push({...res, ratingAverage: 0} );\r\n                continue;\r\n            }\r\n            let total=0;\r\n            for(let rev of res.reviews ){\r\n                total += rev.rating;\r\n            }\r\n            let av= total/res.reviews.length;\r\n            arr.push({...res, ratingAverage: av.toFixed(1)} );\r\n        }\r\n        return arr;\r\n    }\r\n    function fetch() {\r\n        axios.get(\"http://localhost:8000/restaurants\")\r\n        .then(res => {\r\n            console.log(res.data.restaurants);\r\n            setRestaurants(\r\n                bubleSort(\r\n                    addAverageRating(res.data.restaurants)\r\n                )\r\n                );\r\n        })\r\n        .catch(err => console.error(err))\r\n        }\r\n    useEffect(()=> {\r\n        fetch();\r\n    },[]);\r\n    const deleteRes = (_id) => {\r\n        axios.delete(`http://localhost:8000/restaurants/delete/${_id}`)\r\n        .then(res => {\r\n            console.log(res.data.students);\r\n            fetch();\r\n        })\r\n        .catch(err => console.error(err))\r\n    }\r\n    \r\n    return (\r\n    <div className=\"container\" >\r\n        <input type=\"search\" placeholder=\"search\" className=\" search col-sm-6 mt-2 mb-2 my-2\" onChange={e =>setQ(e.target.value)} />\r\n        {restaurants.filter(r => r.name.toLowerCase().includes(q.toLowerCase())).length < 1 ? <p>No results</p>:\"\"}\r\n            {\r\n                restaurants.filter(r => r.name.toLowerCase().includes(q.toLowerCase())).map((rest ) => \r\n                <div className=\"row\">\r\n                <div className=\"col-sm-12\">\r\n                    <div className=\"card\">\r\n                        <div className=\"card-header bg-dark text-light\">{rest.name} </div>\r\n                        <div className=\"card-body\">\r\n                        <p>Cuisine: {rest.cuisine}  </p>\r\n                        <p>Year Established: {rest.yearOpened}  </p>\r\n                        <p>Description: {rest.description}  </p>\r\n                        <p>Average Rating: {rest.ratingAverage}  </p>\r\n                        <div className=\"d-flex justify-content-between \">\r\n                            <Link to={`/view/${rest._id}`} className=\"btn btn-outline-info\" >View</Link>\r\n                            <Link to={`/edit/${rest._id}`} className=\"btn btn-outline-success\" >Edit</Link> \r\n                            <botton className=\"btn btn-outline-danger\" onClick={e => deleteRes(rest._id)}>Delete</botton>\r\n                        </div>\r\n                        </div>\r\n                    </div>\r\n                </div>   \r\n                </div>            \r\n                )\r\n            }\r\n    </div>\r\n    );\r\n\r\n}\r\nexport default DisplayRes;\r\n\r\n\r\n","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\nimport {navigate} from '@reach/router';\r\n\r\n\r\n\r\nconst AddRes = props => {\r\n    const [name,setName] = useState(\"\");\r\n    const [cuisine,setCuisine] = useState(\"\");\r\n    const [yearOpened,setYearOpened] = useState(2020);\r\n    const [description,setDescription] = useState(\"\");\r\n    const [errors,setErrors]= useState({});\r\n    \r\n    const addRestaurant = (e) => {\r\n        e.preventDefault();\r\n        const newRestaurant = {name,cuisine,yearOpened,description};\r\n        axios.post(\"http://localhost:8000/restaurants/new\" ,newRestaurant)\r\n        .then(res => {\r\n            console.log(res.data.restaurants);\r\n            if(res.data.errors){\r\n                setErrors(res.data.errors);\r\n            }\r\n            else {\r\n                navigate(\"/\");\r\n            }\r\n        })\r\n        .catch(err => console.error(err))\r\n        \r\n        }\r\n    return (\r\n    <div className=\"container\" >\r\n        <div className=\"row my-5\">\r\n            <div className=\"col-sm-8 offset-sm-2 \">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header bg-dark text-light\">Add A New Restaurant </div>\r\n                    <div className=\"card body\">\r\n                        <form onSubmit={addRestaurant}>\r\n                            <div className=\"form-group\">\r\n                                <label>Name: </label>\r\n                                <input type=\"text\"  className=\"form-control\" onChange={e => setName(e.target.value)} value={name} />\r\n                                <p className=\"text-danger\">{ errors.name?errors.name.message:\"\"}</p>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Cuisine: </label>\r\n                                <input type=\"text\"  className=\"form-control\" onChange={e => setCuisine(e.target.value)} value={cuisine}/>\r\n                                <p className=\"text-danger\">{ errors.cuisine?errors.cuisine.message:\"\"}</p>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Year Established: </label>\r\n                                <input type=\"Number\"  className=\"form-control \" max=\"2020\" onChange={e => setYearOpened(e.target.value)} value={yearOpened}/>\r\n                                <p className=\"text-danger\">{ errors.yearOpened?errors.yearOpened.message:\"\"}</p>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Description: </label>\r\n                                <input type=\"text\"  className=\"form-control\" onChange={e => setDescription(e.target.value)} value={description}/>\r\n                                <p className=\"text-danger\">{ errors.description?errors.description.message:\"\"}</p>\r\n                            </div>\r\n                            <input type=\"submit\" value=\"Add A New Restaurant \" className=\"btn btn-primary\"/>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>              \r\n    </div>\r\n    );\r\n\r\n}\r\nexport default AddRes;\r\n\r\n\r\n","import React  from 'react';\r\n\r\n\r\n\r\nconst Starts = props => {\r\n\r\n    \r\n    return (\r\n    <span>\r\n        {\r\n        Array(props.rating+1).join(\"★\")\r\n        }\r\n        {\r\n        Array(5-props.rating+1).join(\"☆\")\r\n        }\r\n    </span>\r\n    );\r\n\r\n}\r\nexport default Starts;\r\n\r\n\r\n","import React, {useState, useEffect} from 'react';\r\nimport axios from 'axios';\r\n// import {navigate} from '@reach/router';\r\nimport Stars from '../Components/resStars';\r\nimport moment from 'moment';\r\n\r\n\r\n\r\nconst ReviewRes = props => {\r\n    const [restaurant,setRestaurant] = useState({reviews: []});\r\n    const [name,setName] = useState(\"\");\r\n    const [rating,setRating] = useState(3);\r\n    const [content,setContent] = useState(\"\");\r\n    const [errors,setErrors]= useState({});\r\n    \r\n    function fetch() {\r\n        axios.get(`http://localhost:8000/restaurants/${props._id}`)\r\n        .then(res => {\r\n            console.log(res.data.restaurant);\r\n            setRestaurant(res.data.restaurant);\r\n        })\r\n        .catch(err => console.error(err))\r\n        }\r\n    useEffect(()=> {\r\n        fetch();\r\n    },[]);\r\n    Array.prototype.reverseRev= function() {\r\n        const copy= [...this];\r\n        copy.reverse();\r\n        return copy;\r\n    }\r\n    const ratingAvrage = (revs) =>{\r\n        let total=0\r\n        for(let rev of revs){\r\n            total += rev.rating\r\n        }\r\n        return (total / revs.length ).toFixed(1);\r\n    }\r\n    const reviewRes = (e) => {\r\n        e.preventDefault();\r\n        const newReview = {name,rating,content};\r\n        axios.post(`http://localhost:8000/restaurants/${props._id}/review` ,newReview)\r\n        .then(res => {\r\n            console.log(res.data.restaurant);\r\n            if(res.data.errors){\r\n                setErrors(res.data.errors);\r\n            }\r\n            else {\r\n                fetch();\r\n                setErrors({});\r\n            }\r\n        })\r\n        .catch(err => console.error(err))\r\n        \r\n        }\r\n    return (\r\n    <div className=\"container\" >\r\n        <div className=\"row my-5\">\r\n            <div className=\"col-sm-5  \">\r\n                <div className=\"card\">\r\n                    <div className=\"card-header bg-dark text-light\">{restaurant.name }</div>\r\n                    <div className=\"card body\">\r\n                    <p>Cuisine: {restaurant.cuisine}  </p>\r\n                    <p>Year Established: {restaurant.yearOpened}  </p>\r\n                    <p>Description: {restaurant.description}  </p>\r\n                    <p>Average rating: {ratingAvrage(restaurant.reviews)} </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"col-sm-5  \">\r\n            <div className=\"card\">\r\n                    <div className=\"card-header bg-dark text-light\">Leave A Review </div>\r\n                    <div className=\"card body\">\r\n                        <form onSubmit={reviewRes}>\r\n                            <div className=\"form-group\">\r\n                                <label>Your Name: </label>\r\n                                <input type=\"text\"  className=\"form-control\" onChange={e => setName(e.target.value)} value={name} />\r\n                                <p className=\"text-danger\">{ errors.name?errors.name.message:\"\"}</p>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Rating: </label>\r\n                                <select  onChange={e => setRating(e.target.value)} value={rating} >\r\n                                    <option value=\"1\">★☆☆☆☆</option>\r\n                                    <option value=\"2\">★★☆☆☆</option>\r\n                                    <option value=\"3\">★★★☆☆</option>\r\n                                    <option value=\"4\">★★★★☆</option>\r\n                                    <option value=\"5\">★★★★★</option>\r\n                                </select>\r\n                                <p className=\"text-danger\">{ errors.rating?errors.rating.message:\"\"}</p>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Content: </label>\r\n                                <input type=\"text\"  className=\"form-control\" onChange={e => setContent(e.target.value)} value={content}/>\r\n                                <p className=\"text-danger\">{ errors.content?errors.content.message:\"\"}</p>\r\n                            </div>\r\n                            <input type=\"submit\" value=\"Leave A Review\" className=\"btn btn-primary\"/>\r\n                        </form>\r\n                    </div>\r\n            </div>\r\n        </div> \r\n            <div className=\"col-10  \">\r\n            <div className=\"card\">\r\n                    <div className=\"card-header bg-dark text-light\">{restaurant.name } Reviews</div>\r\n                        {\r\n                            restaurant.reviews.reverseRev().map((rev) =>\r\n                            <div className=\"card body\"> \r\n                            <Stars rating={rev.rating}/>\r\n                            <p>{rev.name} says :{rev.content} </p>\r\n                            <p>{moment(rev.createdAt).fromNow()}</p>\r\n                            </div>\r\n                            )\r\n                        }\r\n                </div>\r\n            </div>\r\n        </div>             \r\n    </div>\r\n    );\r\n\r\n}\r\nexport default ReviewRes;\r\n\r\n\r\n","import React from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport {Router,Link } from '@reach/router';\nimport UpdateRes from './Components/updateRes';\nimport DisplayRes from './Components/allRes';\nimport AddRes from './Components/newRes';\nimport ReviewRes from './Components/resReview';\n\nfunction App() {\n  return (\n    <div className=\"container\" >\n      <Link to=\"/\" className=\"btn btn-outline-info\" >View All Restaurants</Link>\n      <Link to=\"/new\" className=\"btn btn-outline-info\" >Add A New Restaurant</Link>\n      <Router >\n        <DisplayRes path=\"/\" />\n        <AddRes path=\"/new\"/>\n        <UpdateRes path=\"/edit/:_id\"/>\n        <ReviewRes path=\"/view/:_id\"/>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}